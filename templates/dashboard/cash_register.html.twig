{% extends 'base.html.twig' %}

{% block title %}
  Contr√¥le de caisse
{% endblock %}

{% block content %}
  <h1>Gestion de la caisse</h1>

  <div class="sections-container three-sections">
    <section class="card">
      <p class="state-ok">Caisse ouverte par {{ openedBy }} le {{ openingAt }}</p>

      <p>Fond de caisse : {{ cashFloat|number_format(2, ',', ' ') }} ‚Ç¨</p>
      <p>Total des ventes pour la session en cours : {{ totalPrice }}</p>
      <p>Total CB : {{ totalCard }}</p>
      <p>Total esp√®ces : {{ totalCash }}</p>
    </section>
    <section class="card">
      <h2>Effectuer un pr√©l√®vement</h2>
      <form method="post" action="">
        <label>Montant du pr√©l√®vement<input type="number" name="montant" step="0.01" min="0" required /></label>
        <label>Motif (optionnel) :<input type="text" name="motif" /></label>
        <button type="submit" class="button-primary">Valider le pr√©l√®vement</button>
      </form>
    </section>

    <section class="card">
      <h2>Cl√¥ture de caisse</h2>
      <form method="post" action="">
        <div class="grid-2-cols">
          {% for valeur in [0.01, 0.02, 0.05, 0.1, 0.2, 0.5, 1, 2, 5, 10, 20, 50, 100] %}
            <label>
              {{ valeur|number_format(2, ',', ' ') }} ‚Ç¨ :<input
                type="number"
                name="billets[{{ valeur }}]"
                min="0"
                value="0"
                step="1"
              />
            </label>
          {% endfor %}
        </div>

        <p><strong>üí∂ Solde th√©orique esp√®ces :</strong> 100,00 ‚Ç¨</p>
        <p><strong>üßæ Solde compt√© :</strong> <span id="solde-compt√©">0,00 ‚Ç¨</span></p>
        <p><strong>‚ùó √âcart :</strong> <span id="ecart">0,00 ‚Ç¨</span></p>

        <button type="submit" class="button-primary">Cl√¥turer la caisse</button>
      </form>
    </section>
  </div>
{% endblock %}
